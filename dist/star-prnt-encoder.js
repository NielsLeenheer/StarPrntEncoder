!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).StarPrntEncoder=e()}}(function(){return function(){return function e(t,n,s){function i(r,o){if(!n[r]){if(!t[r]){var h="function"==typeof require&&require;if(!o&&h)return h(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){return i(t[r][1][e]||e)},c,c.exports,e,t,n,s)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}}()({1:[function(e,t,n){t.exports=new class{grayscale(e){for(let t=0;t<e.data.length;t+=4){const n=.299*e.data[t]+.587*e.data[t+1]+.114*e.data[t+2];e.data.fill(n,t,t+3)}return e}threshold(e,t){for(let n=0;n<e.data.length;n+=4){const s=.299*e.data[n]+.587*e.data[n+1]+.114*e.data[n+2]<t?0:255;e.data.fill(s,n,n+3)}return e}bayer(e,t){const n=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];for(let s=0;s<e.data.length;s+=4){const i=.299*e.data[s]+.587*e.data[s+1]+.114*e.data[s+2],a=s/4%e.width,r=Math.floor(s/4/e.width),o=Math.floor((i+n[a%4][r%4])/2)<t?0:255;e.data.fill(o,s,s+3)}return e}floydsteinberg(e){const t=e.width,n=new Uint8ClampedArray(e.width*e.height);for(let t=0,s=0;s<e.data.length;t++,s+=4)n[t]=.299*e.data[s]+.587*e.data[s+1]+.114*e.data[s+2];for(let s=0,i=0;i<e.data.length;s++,i+=4){const a=n[s]<129?0:255,r=Math.floor((n[s]-a)/16);e.data.fill(a,i,i+3),n[s+1]+=7*r,n[s+t-1]+=3*r,n[s+t]+=5*r,n[s+t+1]+=1*r}return e}atkinson(e){const t=e.width,n=new Uint8ClampedArray(e.width*e.height);for(let t=0,s=0;s<e.data.length;t++,s+=4)n[t]=.299*e.data[s]+.587*e.data[s+1]+.114*e.data[s+2];for(let s=0,i=0;i<e.data.length;s++,i+=4){const a=n[s]<129?0:255,r=Math.floor((n[s]-a)/8);e.data.fill(a,i,i+3),n[s+1]+=r,n[s+2]+=r,n[s+t-1]+=r,n[s+t]+=r,n[s+t+1]+=r,n[s+2*t]+=r}return e}}},{}],2:[function(e,t,n){t.exports=new class{flatten(e,t){for(let n=0;n<e.data.length;n+=4){const s=e.data[n+3],i=255-s;e.data[n]=(s*e.data[n]+i*t[0])/255,e.data[n+1]=(s*e.data[n+1]+i*t[1])/255,e.data[n+2]=(s*e.data[n+2]+i*t[2])/255,e.data[n+3]=255}return e}}},{}],3:[function(e,t,n){const s=e("./lib/parse-font");n.parseFont=s,n.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},n.createImageData=function(e,t,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,n)}},n.loadImage=function(e,t){return new Promise(function(n,s){const i=Object.assign(document.createElement("img"),t);function a(){i.onload=null,i.onerror=null}i.onload=function(){a(),n(i)},i.onerror=function(){a(),s(new Error('Failed to load the image "'+e+'"'))},i.src=e})}},{"./lib/parse-font":4}],4:[function(e,t,n){"use strict";const s="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",i=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),a=new RegExp("(italic|oblique) +","i"),r=new RegExp("(small-caps) +","i"),o=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),h=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${s})( *, *(?:${s}))*)`),l={};t.exports=(e=>{if(l[e])return l[e];const t=h.exec(e);if(!t)return;const n={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let s,c,d,u;const g=e.substring(0,t.index);switch((s=i.exec(g))&&(n.weight=s[1]),(c=a.exec(g))&&(n.style=c[1]),(d=r.exec(g))&&(n.variant=d[1]),(u=o.exec(g))&&(n.stretch=u[1]),n.unit){case"pt":n.size/=.75;break;case"pc":n.size*=16;break;case"in":n.size*=96;break;case"cm":n.size*=96/2.54;break;case"mm":n.size*=96/25.4;break;case"%":break;case"em":case"rem":n.size*=16/.75;break;case"q":n.size*=96/25.4/4}return l[e]=n})},{}],5:[function(e,t,n){const s={cp437:{name:"USA, Standard Europe",languages:["en"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp720:{name:"Arabic",languages:["ar"],offset:128,chars:"éâàçêëèïîّْô¤ـûùءآأؤ£إئابةتثجحخدذرزسشص«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ضطظعغفµقكلمنهوىي≡ًٌٍَُِ≈°∙·√ⁿ²■ "},cp737:{name:"Greek",languages:["el"],offset:128,chars:"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ "},cp775:{name:"Baltic Rim",languages:["et","lt"],offset:128,chars:"ĆüéāäģåćłēŖŗīŹÄÅÉæÆōöĢ¢ŚśÖÜø£Ø×¤ĀĪóŻżź”¦©®¬½¼Ł«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀ÓßŌŃõÕµńĶķĻļņĒŅ’­±“¾¶§÷„°∙·¹³²■ "},cp850:{name:"Multilingual",languages:["en"],offset:128,chars:"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ "},cp851:{name:"Greek",languages:["el"],offset:128,chars:"ÇüéâäàΆçêëèïîΈÄΉΊ ΌôöΎûùΏÖÜά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ´­±υφχ§ψ¸°¨ωϋΰώ■ "},cp852:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ "},cp853:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàĉçêëèïîìÄĈÉċĊôöòûùİÖÜĝ£Ĝ×ĵáíóúñÑĞğĤĥ�½Ĵş«»░▒▓│┤ÁÂÀŞ╣║╗╝Żż┐└┴┬├─┼Ŝŝ╚╔╩╦╠═╬¤��ÊËÈıÍÎÏ┘┌█▄�Ì▀ÓßÔÒĠġµĦħÚÛÙŬŭ�´­�ℓŉ˘§÷¸°¨˙�³²■ "},cp855:{name:"Cyrillic",languages:["bg"],offset:128,chars:"ђЂѓЃёЁєЄѕЅіІїЇјЈљЉњЊћЋќЌўЎџЏюЮъЪаАбБцЦдДеЕфФгГ«»░▒▓│┤хХиИ╣║╗╝йЙ┐└┴┬├─┼кК╚╔╩╦╠═╬¤лЛмМнНоОп┘┌█▄Пя▀ЯрРсСтТуУжЖвВьЬ№­ыЫзЗшШэЭщЩчЧ§■ "},cp857:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ "},cp858:{name:"Euro",languages:["en"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈ€ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},cp860:{name:"Portuguese",languages:["pt"],offset:128,chars:"ÇüéâãàÁçêÊèÍÔìÃÂÉÀÈôõòÚùÌÕÜ¢£Ù₧ÓáíóúñÑªº¿Ò¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp861:{name:"Icelandic",languages:["is"],offset:128,chars:"ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp862:{name:"Hebrew",languages:["he"],offset:128,chars:"אבגדהוזחטיךכלםמןנסעףפץצקרשת¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp863:{name:"Canadian French",languages:["fr"],offset:128,chars:"ÇüéâÂà¶çêëèïî‗À§ÉÈÊôËÏûù¤ÔÜ¢£ÙÛƒ¦´óú¨¸³¯Î⌐¬½¼¾«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp864:{name:"Arabic",languages:["ar"],offset:0,chars:"\0\b\t\n\v\f\r !\"#$٪&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~°·∙√▒─│┼┤┬├┴┐┌└┘β∞φ±½¼≈«»ﻷﻸ��ﻻﻼ� ­ﺂ£¤ﺄ��ﺎﺏﺕﺙ،ﺝﺡﺥ٠١٢٣٤٥٦٧٨٩ﻑ؛ﺱﺵﺹ؟¢ﺀﺁﺃﺅﻊﺋﺍﺑﺓﺗﺛﺟﺣﺧﺩﺫﺭﺯﺳﺷﺻﺿﻁﻅﻋﻏ¦¬÷×ﻉـﻓﻗﻛﻟﻣﻧﻫﻭﻯﻳﺽﻌﻎﻍﻡﹽّﻥﻩﻬﻰﻲﻐﻕﻵﻶﻝﻙﻱ■�"},cp865:{name:"Nordic",languages:["sv","dk"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp866:{name:"Cyrillic 2",languages:["ru"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ "},cp869:{name:"Greek",languages:["el"],offset:128,chars:"������Ά�·¬¦‘’Έ―ΉΊΪΌ��ΎΫ©Ώ²³ά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ΄­±υφχ§ψ΅°¨ωϋΰώ■ "},cp874:{name:"Thai",languages:["th"],offset:128,chars:"€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},cp1098:{name:"Farsi",languages:["fa"],offset:128,chars:"  ،؛؟ًآﺂاﺎءأﺄؤﺋبﺑﭖﭘتﺗثﺛجﺟﭺﭼ×حﺣخﺧدذرزﮊسﺳشﺷصﺻ«»░▒▓│┤ضﺿﻁﻃ╣║╗╝¤ﻅ┐└┴┬├─┼ﻇع╚╔╩╦╠═╬ ﻊﻋﻌغﻎﻏﻐفﻓ┘┌█▄قﻗ▀ﮎﻛﮒﮔلﻟمﻣنﻧوهﻫﻬﮤﯼ­ﯽﯾـ٠١٢٣٤٥٦٧٨٩■ "},cp1118:{name:"Lithuanian",languages:["lt"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀αβΓπΣσµτΦΘΩδ∞φε⋂≡±≥≤„“÷≈°∙˙√ⁿ²■ "},cp1119:{name:"Lithuanian",languages:["lt"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁё≥≤„“÷≈°∙·√ⁿ²■ "},cp1125:{name:"Ukrainian",languages:["uk"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёҐґЄєІіЇї·√№¤■ "},cp1162:{name:"Thai",languages:["th"],offset:128,chars:"€…‘’“”•–— กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},cp2001:{name:"Lithuanian KBL or 771",languages:["lt"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█ĄąČčрстуфхцчшщъыьэюяĘęĖėĮįŠšŲųŪūŽž■ "},cp3001:{name:"Estonian 1 or 1116",languages:["et"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤šŠÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµžŽÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},cp3002:{name:"Estonian 2",languages:["et"],offset:128,chars:" ¡¢£¤¥¦§¨©ª«¬­®‾°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŠÑÒÓÔÕÖ×ØÙÚÛÜÝŽßàáâãäåæçèéêëìíîïšñòóôõö÷øùúûüýžÿ"},cp3011:{name:"Latvian 1",languages:["lv"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤Ā╢ņ╕╣║╗╝╜╛┐└┴┬├─┼ā╟╚╔╩╦╠═╬╧Š╤čČ╘╒ģĪī┘┌█▄ūŪ▀αßΓπΣσµτΦΘΩδ∞φε∩ĒēĢķĶļĻžŽ∙·√Ņš■ "},cp3012:{name:"Latvian 2 (modified 866)",languages:["lv"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤Ā╢ņ╕╣║╗╝Ō╛┐└┴┬├─┼ā╟╚╔╩╦╠═╬╧Š╤čČ╘╒ģĪī┘┌█▄ūŪ▀рстуфхцчшщъыьэюяĒēĢķĶļĻžŽō·√Ņš■ "},cp3021:{name:"Bulgarian (MIK)",languages:["bg"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя└┴┬├─┼╣║╚╔╩╦╠═╬┐░▒▓│┤№§╗╝┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3041:{name:"Maltese ISO 646",languages:["mt"],offset:0,chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZġżħ^_ċabcdefghijklmnopqrstuvwxyzĠŻĦĊ"},cp3840:{name:"Russian (modified 866)",languages:["ru"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюя≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3841:{name:"Ghost",languages:["ru"],offset:128,chars:"ғәёіїјҝөўүӽӈҹҷє£ҒӘЁІЇЈҜӨЎҮӼӇҸҶЄЪ !\"#$%&'()*+,-./0123456789:;<=>?юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧ∅"},cp3843:{name:"Polish (Mazovia)",languages:["pl"],offset:128,chars:"ÇüéâäàąçêëèïîćÄĄĘęłôöĆûùŚÖÜ¢Ł¥śƒŹŻóÓńŃźż¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3844:{name:"Czech (Kamenický)",languages:["cz"],offset:128,chars:"ČüéďäĎŤčěĚĹÍľĺÄÁÉžŽôöÓůÚýÖÜŠĽÝŘťáíóúňŇŮÔšřŕŔ¼§«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3845:{name:"Hungarian (CWI-2)",languages:["hu"],offset:128,chars:"ÇüéâäàåçêëèïîÍÄÁÉæÆőöÓűÚŰÖÜ¢£¥₧ƒáíóúñÑªŐ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3846:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜ¢£¥ŞşáíóúñÑĞğ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3847:{name:"Brazil ABNT",languages:["pt"],offset:256,chars:""},cp3848:{name:"Brazil ABICOMP",languages:["pt"],offset:160,chars:" ÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖŒÙÚÛÜŸ¨£¦§°¡àáâãäçèéêëìíîïñòóôõöœùúûüÿßªº¿±"},iso88591:{name:"Latin 1",languages:["en"],offset:128,chars:" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},iso88592:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},iso88597:{name:"Greek",languages:["el"],offset:128,chars:" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},iso885915:{name:"Latin 9",languages:["fr"],offset:128,chars:" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},rk1048:{name:"Kazakh",languages:["kk"],offset:128,chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊҚҺЏђ‘’“”•–—�™љ›њқһџ ҰұӘ¤Ө¦§Ё©Ғ«¬­®Ү°±Ііөµ¶·ё№ғ»әҢңүАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},windows1250:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:"€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},windows1251:{name:"Cyrillic",languages:["ru"],offset:128,chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},windows1252:{name:"Latin",languages:["fr"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},windows1253:{name:"Greek",languages:["el"],offset:128,chars:"€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},windows1254:{name:"Turkish",languages:["tr"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ"},windows1255:{name:"Hebrew",languages:["he"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹֺֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�"},windows1256:{name:"Arabic",languages:["ar"],offset:128,chars:"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے"},windows1257:{name:"Baltic Rim",languages:["et","lt"],offset:128,chars:"€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙"},windows1258:{name:"Vietnamese",languages:["vi"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ"}},i={en:"The quick brown fox jumps over the lazy dog.",jp:"イロハニホヘト チリヌルヲ ワカヨタレソ ツネナラム",pt:"O próximo vôo à noite sobre o Atlântico, põe freqüentemente o único médico.",fr:"Les naïfs ægithales hâtifs pondant à Noël où il gèle sont sûrs d'être déçus en voyant leurs drôles d'œufs abîmés.",sv:"Flygande bäckasiner söka strax hwila på mjuka tuvor.",dk:"Quizdeltagerne spiste jordbær med fløde",el:"ξεσκεπάζω την ψυχοφθόρα βδελυγμία",tr:"Pijamalı hasta, yağız şoföre çabucak güvendi.",ru:"Съешь же ещё этих мягких французских булок да выпей чаю",hu:"Árvíztűrő tükörfúrógép",pl:"Pchnąć w tę łódź jeża lub ośm skrzyń fig",cz:"Mohu jíst sklo, neublíží mi.",ar:"أنا قادر على أكل الزجاج و هذا لا يؤلمني.",et:"Ma võin klaasi süüa, see ei tee mulle midagi.",lt:"Aš galiu valgyti stiklą ir jis manęs nežeidžia.",bg:"Мога да ям стъкло, то не ми вреди.",is:"Ég get etið gler án þess að meiða mig.",he:"אני יכול לאכול זכוכית וזה לא מזיק לי.",fa:".من می توانم بدونِ احساس درد شيشه بخورم",uk:"Я можу їсти скло, і воно мені не зашкодить.",vi:"Tôi có thể ăn thủy tinh mà không hại gì.",kk:"қазақша",lv:"Es varu ēst stiklu, tas man nekaitē.",mt:"Nista' niekol il-ħġieġ u ma jagħmilli xejn.",th:"ฉันกินกระจกได้ แต่มันไม่ทำให้ฉันเจ็บ"};t.exports=class{static getEncodings(){return Object.keys(s)}static getTestStrings(e){return void 0!==s[e]&&void 0!==s[e].languages?s[e].languages.map(e=>({language:e,string:i[e]})):[]}static supports(e){return void 0!==s[e]&&void 0!==s[e].chars}static encode(e,t){const n=new Uint8Array(e.length);let i="\0".repeat(128),a=128;void 0!==s[t]&&void 0!==s[t].chars&&(i=s[t].chars,a=s[t].offset);for(let t=0;t<e.length;t++){const s=e.codePointAt(t);if(s<128)n[t]=s;else{const r=i.indexOf(e[t]);-1!==r?n[t]=a+r:s<256&&(s<a||s>=a+i.length)?n[t]=s:n[t]=63}}return n}static autoEncode(e,t){const n=[];let i,a=-1;for(let r=0;r<e.length;r++){const o=e.codePointAt(r);let h,l=0;if(o<128&&(h=i||t[0],l=o),!h&&i){const t=s[i].chars.indexOf(e[r]);-1!==t&&(h=i,l=s[i].offset+t)}if(!h)for(let n=0;n<t.length;n++){const i=s[t[n]].chars.indexOf(e[r]);if(-1!==i){h=t[n],l=s[t[n]].offset+i;break}}h||(h=i||t[0],l=63),i!=h&&(i&&(n[a].bytes=new Uint8Array(n[a].bytes)),n[++a]={codepage:h,bytes:[]},i=h),n[a].bytes.push(l)}return i&&(n[a].bytes=new Uint8Array(n[a].bytes)),n}}},{}],6:[function(e,t,n){var s={html:{skipScheme:"html",lineBreakScheme:"html",whitespace:"collapse"}},i=/<\s*br(?:[\s/]*|\s[^>]*)>/gi,a={unix:[/\n/g,"\n"],dos:[/\r\n/g,"\r\n"],mac:[/\r/g,"\r"],html:[i,"<br>"],xhtml:[i,"<br/>"]},r={"ansi-color":/\x1B\[[^m]*m/g,html:/<[^>]*>/g,bbcode:/\[[^]]*\]/g},o={soft:1,hard:1},h={collapse:1,default:1,line:1,all:1},l={all:1,multi:1,none:1},c=/([sm])(\d+)/,d=/[-/\\^$*+?.()|[\]{}]/g;function u(e){return e.replace(d,"\\$&")}var g=t.exports=function(e,t,n){"object"==typeof e&&(e=(n=e).start,t=n.stop),"object"==typeof t&&(n=t,e=e||n.start,t=void 0),t||(t=e,e=0),n||(n={});var i,d,g,f,p,w,m,b,_,y,v,k,x,E,L,q,I,A,j="soft",B="default",R=4,S="all",M="",z="";if(i=n.preset)for(i instanceof Array||(i=[i]),A=0;A<i.length;A++){if(!(q=s[i[A]]))throw new TypeError('preset must be one of "'+Object.keys(s).join('", "')+'"');q.mode&&(j=q.mode),q.whitespace&&(B=q.whitespace),void 0!==q.tabWidth&&(R=q.tabWidth),q.skip&&(d=q.skip),q.skipScheme&&(g=q.skipScheme),q.lineBreak&&(f=q.lineBreak),q.lineBreakScheme&&(p=q.lineBreakScheme),q.respectLineBreaks&&(S=q.respectLineBreaks),void 0!==q.preservedLineIndent&&(m=q.preservedLineIndent),void 0!==q.wrapLineIndent&&(b=q.wrapLineIndent),q.wrapLineIndentBase&&(_=q.wrapLineIndentBase)}if(n.mode){if(!o[n.mode])throw new TypeError('mode must be one of "'+Object.keys(o).join('", "')+'"');j=n.mode}if(n.whitespace){if(!h[n.whitespace])throw new TypeError('whitespace must be one of "'+Object.keys(h).join('", "')+'"');B=n.whitespace}if(void 0!==n.tabWidth){if(!(parseInt(n.tabWidth,10)>=0))throw new TypeError("tabWidth must be a non-negative integer");R=parseInt(n.tabWidth,10)}if(L=new Array(R+1).join(" "),n.respectLineBreaks){if(!l[n.respectLineBreaks]&&!c.test(n.respectLineBreaks))throw new TypeError('respectLineBreaks must be one of "'+Object.keys(l).join('", "')+'", "m<num>", "s<num>"');S=n.respectLineBreaks}if("multi"===S)S="m",w=2;else if(!l[S]){var T=c.exec(S);S=T[1],w=parseInt(T[2],10)}if(void 0!==n.preservedLineIndent){if(!(parseInt(n.preservedLineIndent,10)>=0))throw new TypeError("preservedLineIndent must be a non-negative integer");m=parseInt(n.preservedLineIndent,10)}if(m>0&&(M=new Array(m+1).join(" ")),void 0!==n.wrapLineIndent){if(isNaN(parseInt(n.wrapLineIndent,10)))throw new TypeError("wrapLineIndent must be an integer");b=parseInt(n.wrapLineIndent,10)}if(n.wrapLineIndentBase&&(_=n.wrapLineIndentBase),_){if(void 0===b)throw new TypeError("wrapLineIndent must be specified when wrapLineIndentBase is specified");if(_ instanceof RegExp)E=_;else{if("string"!=typeof _)throw new TypeError("wrapLineIndentBase must be either a RegExp object or a string");E=new RegExp(u(_))}}else if(b>0)z=new Array(b+1).join(" ");else if(b<0)throw new TypeError("wrapLineIndent must be non-negative when a base is not specified");if(n.skipScheme){if(!r[n.skipScheme])throw new TypeError('skipScheme must be one of "'+Object.keys(r).join('", "')+'"');g=n.skipScheme}if(n.skip&&(d=n.skip),d)if(d instanceof RegExp)(y=d).global||(I="g",y.ignoreCase&&(I+="i"),y.multiline&&(I+="m"),y=new RegExp(y.source,I));else{if("string"!=typeof d)throw new TypeError("skip must be either a RegExp object or a string");y=new RegExp(u(d),"g")}if(!y&&g&&(y=r[g]),n.lineBreakScheme){if(!a[n.lineBreakScheme])throw new TypeError('lineBreakScheme must be one of "'+Object.keys(a).join('", "')+'"');p=n.lineBreakScheme}if(n.lineBreak&&(f=n.lineBreak),p&&(q=a[p])&&(v=q[0],k=q[1]),f)if(f instanceof Array&&(1===f.length?f=f[0]:f.length>=2&&(f[0]instanceof RegExp?(v=f[0],"string"==typeof f[1]&&(k=f[1])):f[1]instanceof RegExp?(v=f[1],"string"==typeof f[0]&&(k=f[0])):"string"==typeof f[0]&&"string"==typeof f[1]?(v=new RegExp(u(f[0]),"g"),k=f[1]):f=f[0])),"string"==typeof f)k=f,v||(v=new RegExp(u(f),"g"));else if(f instanceof RegExp)v=f;else if(!(f instanceof Array))throw new TypeError("lineBreak must be a RegExp object, a string, or an array consisted of a RegExp object and a string");v||(v=/\n/g,k="\n"),I="g",v.ignoreCase&&(I+="i"),v.multiline&&(I+="m"),x=new RegExp("\\s*(?:"+v.source+")(?:"+v.source+"|\\s)*",I),v.global||(v=new RegExp(v.source,I));var C="hard"===j?/\b/:/(\S+\s+)/,O=new Array(e+1).join(" "),U="default"===B||"collapse"===B,W="collapse"===B,P="line"===B,N="all"===B,D=/\t/g,F=/  +/g,G=/^\s+/,H=/\s+$/,$=/\S/,K=/\s/,Q=t-e;return function(n){var s;if(n=n.toString().replace(D,L),!k){if(v.lastIndex=0,!(s=v.exec(n)))throw new TypeError("Line break string for the output not specified");k=s[0]}var i,a,r,o,h,l,c,d,u,g=0;for(i=[],x.lastIndex=0,s=x.exec(n);s;){if(i.push(n.substring(g,s.index)),"none"!==S){for(r=[],o=0,v.lastIndex=0,a=v.exec(s[0]);a;)r.push(s[0].substring(o,a.index)),o=a.index+a[0].length,a=v.exec(s[0]);r.push(s[0].substring(o)),i.push({type:"break",breaks:r})}else h=W?" ":s[0].replace(v,""),i.push({type:"break",remaining:h});g=s.index+s[0].length,s=x.exec(n)}if(i.push(n.substring(g)),y)for(u=[],l=0;l<i.length;l++){var f=i[l];if("string"!=typeof f)u.push(f);else{for(g=0,y.lastIndex=0,s=y.exec(f);s;)u.push(f.substring(g,s.index)),u.push({type:"skip",value:s[0]}),g=s.index+s[0].length,s=y.exec(f);u.push(f.substring(g))}}else u=i;var p=[];for(l=0;l<u.length;l++){var m=u[l];if("string"!=typeof m)p.push(m);else{W&&(m=m.replace(F," "));var _=m.split(C),q=[];for(c=0;c<_.length;c++){var I=_[c];if("hard"===j)for(d=0;d<I.length;d+=Q)q.push(I.slice(d,d+Q));else q.push(I)}p=p.concat(q)}}var A,B=0,R=e+M.length,T=[O+M],V=0,J=!0,X=!0,Y=z;function Z(n){var s,i,a,r=T[B];if(N)R>t&&(V=V||t,a=r.length-(R-V),T[B]=r.substring(0,a)),V=0;else{for(s=r.length-1;s>=e&&" "===r[s];)s--;for(;s>=e&&K.test(r[s]);)s--;++s!==r.length&&(T[B]=r.substring(0,s)),X&&J&&P&&R>t&&(a=r.length-(R-t))<s&&(a=s)}if(X&&(X=!1,E&&(s=T[B].substring(e).search(E),Y=s>=0&&s+b>0?new Array(s+b+1).join(" "):"")),a){for(;a+Q<r.length;)N?(i=r.substring(a,a+Q),T.push(O+Y+i)):T.push(O+Y),a+=Q,B++;if(!n)return i=r.substring(a),Y+i;N?(i=r.substring(a),T.push(O+Y+i)):T.push(O+Y),B++}return""}for(l=0;l<p.length;l++){var ee=p[l];if(""!==ee)if("string"==typeof ee){for(var te;;){if(te=void 0,R+ee.length>t&&R+(te=ee.replace(H,"")).length>t&&""!==te&&R>e){if(A=Z(!1),T.push(O+Y),B++,R=e+Y.length,A){T[B]+=A,R+=A.length,J=!0;continue}!U&&(!P||X&&J)||(ee=ee.replace(G,"")),J=!1}else J&&(U||P&&(!X||!J)?""!==(ee=ee.replace(G,""))&&(J=!1):$.test(ee)&&(J=!1));break}N&&te&&R+te.length>t&&(V=R+te.length),T[B]+=ee,R+=ee.length}else if("break"===ee.type)if("none"!==S){var ne=ee.breaks,se=ne.length-1;if("s"===S){for(c=0;c<se;c++)ne[c+1].length<w?ne[c+1]=W?" ":ne[c]+ne[c+1]:(N&&(T[B]+=ne[c],R+=ne[c].length),Z(!0),T.push(O+M),B++,R=e+M.length,X=J=!0);(!J||N||P&&X)&&((W||!J&&""===ne[se])&&(ne[se]=" "),T[B]+=ne[se],R+=ne[se].length)}else if("m"===S&&se<w)(!J||N||P&&X)&&(W?ee=" ":(ee=ne.join(""),J||""!==ee||(ee=" ")),T[B]+=ee,R+=ee.length);else if(U){for(Z(!0),c=0;c<se;c++)T.push(O+M),B++;R=e+M.length,X=J=!0}else for((N||X&&J)&&(T[B]+=ne[0],R+=ne[0].length),c=0;c<se;c++)Z(!0),T.push(O+M+ne[c+1]),B++,R=e+M.length+ne[c+1].length,X=J=!0}else(!J||N||P&&X)&&(ee=ee.remaining,(W||!J&&""===ee)&&(ee=" "),T[B]+=ee,R+=ee.length);else"skip"===ee.type&&(R>t&&(A=Z(!1),T.push(O+Y),B++,R=e+Y.length,A&&(T[B]+=A,R+=A.length),J=!0),T[B]+=ee.value)}return Z(!0),T.join(k)}};g.soft=g,g.hard=function(){var e=[].slice.call(arguments),t=e.length-1;return"object"==typeof e[t]?e[t].mode="hard":e.push({mode:"hard"}),g.apply(null,e)},g.wrap=function(e){var t=[].slice.call(arguments);return t.shift(),g.apply(null,t)(e)}},{}],7:[function(e,t,n){const s=e("linewrap"),{createCanvas:i}=e("canvas"),a=e("canvas-dither"),r=e("canvas-flatten"),o=e("codepage-encoder"),h={star:{cp437:1,cp858:4,cp852:5,cp860:6,cp861:7,cp863:8,cp865:9,cp866:10,cp855:11,cp857:12,cp862:13,cp864:14,cp737:15,cp869:17,cp874:20,windows1252:32,windows1250:33,windows1251:34}};class l{constructor(e){this._reset(e)}_reset(e){this._options=Object.assign({width:null,embedded:!1,wordWrap:!0,codepageMapping:"star",codepageCandidates:["cp437","cp858","cp860","cp861","cp863","cp865","cp852","cp857","cp855","cp866","cp869"]},e),this._embedded=this._options.width&&this._options.embedded,this._buffer=[],this._queued=[],this._cursor=0,this._codepage="ascii",this._state={codepage:0,align:"left",bold:!1,italic:!1,underline:!1,invert:!1,width:1,height:1}}_encode(e){if("auto"!=this._codepage)return o.encode(e,this._codepage);let t;t="string"==typeof this._options.codepageMapping?h[this._options.codepageMapping]:this._options.codepageMapping;const n=o.autoEncode(e,this._options.codepageCandidates);let s=0;for(let e=0;e<n.length;e++)s+=4+n[e].bytes.byteLength;const i=new Uint8Array(s);let a=0;for(let e=0;e<n.length;e++)i.set([27,29,116,t[n[e].codepage]],a),i.set(n[e].bytes,a+4),a+=4+n[e].bytes.byteLength,this._state.codepage=t[n[e].codepage];return i}_queue(e){e.forEach(e=>this._queued.push(e))}_flush(){if(this._embedded){let e=this._options.width-this._cursor;if("left"==this._state.align&&this._queued.push(new Array(e).fill(32)),"center"==this._state.align){const t=e%2;(e>>=1)>0&&this._queued.push(new Array(e).fill(32)),e+t>0&&this._queued.unshift(new Array(e+t).fill(32))}"right"==this._state.align&&this._queued.unshift(new Array(e).fill(32))}this._buffer=this._buffer.concat(this._queued),this._queued=[],this._cursor=0}_wrap(e,t){if(t||this._options.wordWrap&&this._options.width){const n="-".repeat(this._cursor);return s(t||this._options.width,{lineBreak:"\n",whitespace:"all"})(n+e).substring(this._cursor).split("\n")}return[e]}_restoreState(){this.bold(this._state.bold),this.italic(this._state.italic),this.underline(this._state.underline),this.invert(this._state.invert),this._queue([27,29,116,this._state.codepage])}_getCodepageIdentifier(e){let t;return(t="string"==typeof this._options.codepageMapping?h[this._options.codepageMapping]:this._options.codepageMapping)[e]}initialize(){return this._queue([27,64,24]),this._flush(),this}codepage(e){if("auto"===e)return this._codepage=e,this;if(!o.supports(e))throw new Error("Unknown codepage");let t;if(void 0===(t="string"==typeof this._options.codepageMapping?h[this._options.codepageMapping]:this._options.codepageMapping)[e])throw new Error("Codepage not supported by printer");return this._codepage=e,this._state.codepage=t[e],this._queue([27,29,116,t[e]]),this}text(e,t){const n=this._wrap(e,t);for(let e=0;e<n.length;e++){const t=this._encode(n[e]);this._queue([t]),this._cursor+=n[e].length*this._state.width,this._options.width&&!this._embedded&&(this._cursor=this._cursor%this._options.width),e<n.length-1&&this.newline()}return this}newline(){return this._flush(),this._queue([10,13]),this._embedded&&this._restoreState(),this}line(e,t){return this.text(e,t),this.newline(),this}underline(e){return void 0===e&&(e=!this._state.underline),this._state.underline=e,this._queue([27,45,Number(e)]),this}italic(e){return this}bold(e){return void 0===e&&(e=!this._state.bold),this._state.bold=e,e?this._queue([27,69]):this._queue([27,70]),this}width(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Width must be a number");if(e<1||e>6)throw new Error("Width must be between 1 and 6");return this._state.width=e,this._queue([27,105,this._state.height-1,this._state.width-1]),this}height(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Height must be a number");if(e<1||e>6)throw new Error("Height must be between 1 and 6");return this._state.height=e,this._queue([27,105,this._state.height-1,this._state.width-1]),this}invert(e){return void 0===e&&(e=!this._state.invert),this._state.invert=e,this._queue([27,e?52:53]),this}size(e){return e="smaller"===e?2:"small"===e?1:0,this._queue([27,30,70,e]),this}align(e){const t={left:0,center:1,right:2};if(!(e in t))throw new Error("Unknown alignment");return this._state.align=e,this._embedded||this._queue([27,29,97,t[e]]),this}table(e,t){0!=this._cursor&&this.newline();for(let n=0;n<t.length;n++){const i=[];let a=0;for(let r=0;r<e.length;r++){const o=[];if("string"==typeof t[n][r]){const i=s(e[r].width,{lineBreak:"\n"})(t[n][r]).split("\n");for(let t=0;t<i.length;t++)"right"==e[r].align?o[t]=this._encode(i[t].padStart(e[r].width)):o[t]=this._encode(i[t].padEnd(e[r].width))}if("function"==typeof t[n][r]){const s=new l(Object.assign({},this._options,{width:e[r].width,embedded:!0}));s._codepage=this._codepage,s.align(e[r].align),t[n][r](s);const i=s.encode();let a=[];for(let e=0;e<i.byteLength;e++)e<i.byteLength-1&&10===i[e]&&13===i[e+1]?(o.push(a),a=[],e++):a.push(i[e]);a.length&&o.push(a)}a=Math.max(a,o.length),i[r]=o}for(let t=0;t<e.length;t++)if(i[t].length<a)for(let n=i[t].length;n<a;n++){let n="top";void 0!==e[t].verticalAlign&&(n=e[t].verticalAlign),"bottom"==n?i[t].unshift(new Array(e[t].width).fill(32)):i[t].push(new Array(e[t].width).fill(32))}for(let t=0;t<a;t++){for(let n=0;n<e.length;n++)void 0!==e[n].marginLeft&&this.raw(new Array(e[n].marginLeft).fill(32)),this.raw(i[n][t]),void 0!==e[n].marginRight&&this.raw(new Array(e[n].marginRight).fill(32));this.newline()}}return this}rule(e){return e=Object.assign({style:"single",width:this._options.width||10},e||{}),this._queue([27,29,116,this._getCodepageIdentifier("cp437"),new Array(e.width).fill("double"===e.style?205:196)]),this._queue([27,29,116,this._state.codepage]),this.newline(),this}box(e,t){let n;n="double"==(e=Object.assign({style:"single",width:this._options.width||30,marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},e||{})).style?[201,187,200,188,205,186]:[218,191,192,217,196,179],0!=this._cursor&&this.newline(),this._restoreState(),this._queue([27,29,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.marginLeft).fill(32),n[0],new Array(e.width-2).fill(n[4]),n[1],new Array(e.marginRight).fill(32)]),this.newline();const i=[];if("string"==typeof t){const n=s(e.width-2-e.paddingLeft-e.paddingRight,{lineBreak:"\n"})(t).split("\n");for(let t=0;t<n.length;t++)"right"==e.align?i[t]=this._encode(n[t].padStart(e.width-2-e.paddingLeft-e.paddingRight)):i[t]=this._encode(n[t].padEnd(e.width-2-e.paddingLeft-e.paddingRight))}if("function"==typeof t){const n=new l(Object.assign({},this._options,{width:e.width-2-e.paddingLeft-e.paddingRight,embedded:!0}));n._codepage=this._codepage,n.align(e.align),t(n);const s=n.encode();let a=[];for(let e=0;e<s.byteLength;e++)e<s.byteLength-1&&10===s[e]&&13===s[e+1]?(i.push(a),a=[],e++):a.push(s[e]);a.length&&i.push(a)}for(let t=0;t<i.length;t++)this._queue([new Array(e.marginLeft).fill(32),n[5],new Array(e.paddingLeft).fill(32)]),this._queue([i[t]]),this._restoreState(),this._queue([27,29,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.paddingRight).fill(32),n[5],new Array(e.marginRight).fill(32)]),this.newline();return this._queue([new Array(e.marginLeft).fill(32),n[2],new Array(e.width-2).fill(n[4]),n[3],new Array(e.marginRight).fill(32)]),this._restoreState(),this.newline(),this}barcode(e,t,n){if(this._embedded)throw new Error("Barcodes are not supported in table cells or boxes");const s={upce:0,upca:1,ean8:2,ean13:3,code39:4,itf:5,code128:6,code93:7,"nw-7":8,"gs1-128":9,"gs1-databar-omni":10,"gs1-databar-truncated":11,"gs1-databar-limited":12,"gs1-databar-expanded":13};if(!(t in s))throw new Error("Symbology not supported by printer");{const i=o.encode(e,"ascii");this._queue([27,98,s[t],1,3,n,i,30])}return this._flush(),this}qrcode(e,t,n,s){if(this._embedded)throw new Error("QR codes are not supported in table cells or boxes");this._queue([10]);const i={1:1,2:2};if(void 0===t&&(t=2),!(t in i))throw new Error("Model must be 1 or 2");if(this._queue([27,29,121,83,48,i[t]]),void 0===n&&(n=6),"number"!=typeof n)throw new Error("Size must be a number");if(n<1||n>8)throw new Error("Size must be between 1 and 8");this._queue([27,29,121,83,50,n]);const a={l:0,m:1,q:2,h:3};if(void 0===s&&(s="m"),!(s in a))throw new Error("Error level must be l, m, q or h");this._queue([27,29,121,83,49,a[s]]);const r=o.encode(e,"iso88591"),h=r.length;return this._queue([27,29,121,68,49,0,h%255,h/255,r]),this._queue([27,29,121,80]),this._flush(),this}image(e,t,n,s,o){if(this._embedded)throw new Error("Images are not supported in table cells or boxes");if(t%8!=0)throw new Error("Width must be a multiple of 8");if(n%24!=0)throw new Error("Height must be a multiple of 24");void 0===s&&(s="threshold"),void 0===o&&(o=128);const h=i(t,n).getContext("2d");h.drawImage(e,0,0,t,n);let l=h.getImageData(0,0,t,n);switch(l=r.flatten(l,[255,255,255]),s){case"threshold":l=a.threshold(l,o);break;case"bayer":l=a.bayer(l,o);break;case"floydsteinberg":l=a.floydsteinberg(l);break;case"atkinson":l=a.atkinson(l)}const c=(e,n)=>l.data[4*(t*n+e)]>0?0:1;this._queue([27,48]);for(let e=0;e<n/24;e++){const n=24*e,s=new Uint8Array(3*t);for(let e=0;e<t;e++){const t=3*e;s[t]=c(e,n+0)<<7|c(e,n+1)<<6|c(e,n+2)<<5|c(e,n+3)<<4|c(e,n+4)<<3|c(e,n+5)<<2|c(e,n+6)<<1|c(e,n+7),s[t+1]=c(e,n+8)<<7|c(e,n+9)<<6|c(e,n+10)<<5|c(e,n+11)<<4|c(e,n+12)<<3|c(e,n+13)<<2|c(e,n+14)<<1|c(e,n+15),s[t+2]=c(e,n+16)<<7|c(e,n+17)<<6|c(e,n+18)<<5|c(e,n+19)<<4|c(e,n+20)<<3|c(e,n+21)<<2|c(e,n+22)<<1|c(e,n+23)}this._queue([27,88,255&t,t>>8&255,s,10,13])}return this._queue([27,122,1]),this._flush(),this}cut(e){if(this._embedded)throw new Error("Cut is not supported in table cells or boxes");let t=0;return"partial"==e&&(t=1),this._queue([27,100,t]),this}pulse(e,t,n){if(this._embedded)throw new Error("Pulse is not supported in table cells or boxes");return void 0===e&&(e=0),void 0===t&&(t=200),void 0===n&&(n=200),t=Math.min(127,Math.round(t/10)),n=Math.min(127,Math.round(n/10)),this._queue([27,7,255&t,255&n,e?26:7]),this}raw(e){return this._queue(e),this}encode(){this._flush();let e=0;this._buffer.forEach(t=>{"number"==typeof t?e++:e+=t.length});const t=new Uint8Array(e);let n=0;return this._buffer.forEach(e=>{"number"==typeof e?(t[n]=e,n++):(t.set(e,n),n+=e.length)}),this._reset(),t}}t.exports=l},{canvas:3,"canvas-dither":1,"canvas-flatten":2,"codepage-encoder":5,linewrap:6}]},{},[7])(7)});